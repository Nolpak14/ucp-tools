<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-J5JSHV7H1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-J5JSHV7H1E');
  </script>
  <!-- Ahrefs Analytics -->
  <script src="https://analytics.ahrefs.com/analytics.js" data-key="w/KDij6w81HzA8oXaw60JA" async></script>
  <!-- PostHog Analytics -->
  <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_KT4EfwHQFwSfY3Aq4gaAH9SZQNVIijRD3xOBzjAPPW5', {api_host:'https://eu.i.posthog.com',person_profiles:'identified_only',capture_pageview:true,capture_pageleave:true,autocapture:true});
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Commerce Verification Results | Universal Commerce Protocol (UCP) Score | UCP.tools</title>
  <meta name="description" content="View AI Commerce readiness verification results. Check Universal Commerce Protocol (UCP) compliance score, Schema.org validation, and Google AI Mode compatibility for any e-commerce store.">
  <meta name="keywords" content="UCP Verification, AI Commerce Score, Universal Commerce Protocol, Schema.org Validation, AI Shopping Agent, Google AI Mode, E-commerce Readiness">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://ucptools.dev/verify">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://ucptools.dev/verify">
  <meta property="og:title" content="AI Commerce Verification Results | UCP.tools">
  <meta property="og:description" content="View AI Commerce readiness score and Universal Commerce Protocol (UCP) validation results for e-commerce stores.">
  <meta property="og:image" content="https://ucptools.dev/og-image.png">
  <meta property="og:site_name" content="UCP.tools">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://ucptools.dev/verify">
  <meta name="twitter:title" content="AI Commerce Verification Results | UCP.tools">
  <meta name="twitter:description" content="Check Universal Commerce Protocol (UCP) compliance and AI shopping agent readiness score.">
  <meta name="twitter:image" content="https://ucptools.dev/og-image.png">

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "AI Commerce Verification Results",
    "description": "View Universal Commerce Protocol (UCP) verification results and AI Commerce readiness scores for e-commerce stores.",
    "url": "https://ucptools.dev/verify",
    "isPartOf": {
      "@type": "WebSite",
      "name": "UCP.tools",
      "url": "https://ucptools.dev/"
    },
    "breadcrumb": {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://ucptools.dev/"},
        {"@type": "ListItem", "position": 2, "name": "Verification Results", "item": "https://ucptools.dev/verify"}
      ]
    }
  }
  </script>
  <style>
    :root {
      --brand-blue: #2E86AB;
      --brand-teal: #36B5A2;
      --brand-green: #47C97A;
      --brand-gradient: linear-gradient(135deg, #2E86AB 0%, #36B5A2 50%, #47C97A 100%);
      --color-dark: #1A2B3C;
      --color-medium: #5A6978;
      --color-light: #94A3B8;
      --color-border: #E2E8F0;
      --color-background: #F8FAFC;
      --color-card: #FFFFFF;
      --grade-a-bg: #DCFCE7; --grade-a-text: #16A34A;
      --grade-b-bg: #DBEAFE; --grade-b-text: #2563EB;
      --grade-c-bg: #FEF9C3; --grade-c-text: #CA8A04;
      --grade-d-bg: #FED7AA; --grade-d-text: #EA580C;
      --grade-f-bg: #FEE2E2; --grade-f-text: #DC2626;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--color-background);
      color: var(--color-dark);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .container { max-width: 800px; margin: 0 auto; padding: 0 20px; }
    header {
      background: var(--color-card);
      border-bottom: 1px solid var(--color-border);
      padding: 16px 0;
    }
    .header-inner { display: flex; justify-content: space-between; align-items: center; }
    .logo {
      display: flex; align-items: center; gap: 12px;
      font-size: 24px; font-weight: 700; text-decoration: none;
    }
    .logo-icon { width: 40px; height: 40px; border-radius: 8px; }
    .logo-text {
      background: var(--brand-gradient);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    main { flex: 1; padding: 60px 20px; }
    .verify-card {
      background: var(--color-card);
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      text-align: center;
    }
    .grade-circle {
      width: 140px; height: 140px;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      margin: 0 auto 24px;
      font-size: 56px; font-weight: 800;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
      color: white;
    }
    .grade-A { background: linear-gradient(135deg, #22c55e, #16a34a); }
    .grade-B { background: linear-gradient(135deg, #3b82f6, #2563eb); }
    .grade-C { background: linear-gradient(135deg, #eab308, #ca8a04); }
    .grade-D { background: linear-gradient(135deg, #f97316, #ea580c); }
    .grade-F { background: linear-gradient(135deg, #ef4444, #dc2626); }
    .domain-name {
      font-size: 24px; font-weight: 600;
      color: var(--color-dark); margin-bottom: 8px;
    }
    .readiness-label {
      display: inline-block;
      padding: 8px 20px; border-radius: 20px;
      font-weight: 600; font-size: 14px;
      margin-bottom: 24px;
    }
    .score-detail {
      font-size: 36px; font-weight: 700;
      background: var(--brand-gradient);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      margin-bottom: 8px;
    }
    .verified-date { color: var(--color-medium); font-size: 14px; margin-bottom: 32px; }
    .stats-grid {
      display: grid; grid-template-columns: repeat(3, 1fr);
      gap: 16px; margin-bottom: 32px;
      text-align: center;
    }
    .stat-item {
      padding: 16px;
      background: var(--color-background);
      border-radius: 8px;
    }
    .stat-value { font-size: 24px; font-weight: 700; color: var(--color-dark); }
    .stat-label { font-size: 12px; color: var(--color-medium); }
    .cta-section {
      padding-top: 24px;
      border-top: 1px solid var(--color-border);
    }
    .btn {
      display: inline-block;
      padding: 14px 28px;
      background: var(--brand-gradient);
      color: white;
      border: none; border-radius: 8px;
      font-size: 16px; font-weight: 600;
      cursor: pointer; text-decoration: none;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(46, 134, 171, 0.4);
    }
    .loading {
      text-align: center;
      padding: 60px 20px;
      color: var(--color-medium);
    }
    .spinner {
      width: 40px; height: 40px;
      border: 3px solid var(--color-border);
      border-top-color: var(--brand-blue);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 16px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    footer {
      padding: 24px 20px;
      text-align: center;
      color: var(--color-medium);
      border-top: 1px solid var(--color-border);
      background: var(--color-card);
      font-size: 14px;
    }
    footer a { color: var(--brand-blue); text-decoration: none; }
    .error-message {
      background: #FEE2E2;
      color: #DC2626;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 24px;
    }
    .issues-summary {
      text-align: left;
      margin-top: 24px;
      padding: 20px;
      background: var(--color-background);
      border-radius: 8px;
    }
    .issue-category {
      margin-bottom: 16px;
    }
    .issue-category h4 {
      font-size: 14px;
      color: var(--color-dark);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .issue-badge {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 10px;
      font-weight: 600;
    }
    .issue-badge.errors { background: #FEE2E2; color: #DC2626; }
    .issue-badge.warnings { background: #FEF9C3; color: #CA8A04; }
    .issue-badge.ok { background: #DCFCE7; color: #16A34A; }
    @media (max-width: 600px) {
      .stats-grid { grid-template-columns: 1fr; }
      .verify-card { padding: 24px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container header-inner">
      <a href="/" class="logo">
        <img src="/logo.jpeg" alt="UCP.tools" class="logo-icon">
        <span class="logo-text">UCP.tools</span>
      </a>
      <a href="/" class="btn" style="padding: 10px 20px; font-size: 14px;">Check Your Store</a>
    </div>
  </header>

  <main>
    <div class="container">
      <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Verifying AI Commerce readiness...</p>
      </div>

      <div id="result" class="verify-card" style="display: none;"></div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p><a href="/">UCP.tools</a> - Free AI Commerce Readiness Checker</p>
      <p style="margin-top: 4px;">Powered by Universal Commerce Protocol</p>
    </div>
  </footer>

  <script>
    async function verifyDomain() {
      const params = new URLSearchParams(window.location.search);
      const domain = params.get('domain') || params.get('d');

      if (!domain) {
        document.getElementById('loading').style.display = 'none';
        document.getElementById('result').style.display = 'block';
        document.getElementById('result').innerHTML = `
          <div class="error-message">
            <strong>No domain specified</strong>
            <p>Add ?domain=yourstore.com to the URL</p>
          </div>
          <a href="/" class="btn">Check Your Store</a>
        `;
        return;
      }

      const cleanDomain = domain.replace(/^https?:\/\//, '').replace(/\/$/, '').split('/')[0];
      document.title = `${cleanDomain} - AI Commerce Verification`;

      try {
        const res = await fetch('/api/validate', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ domain: cleanDomain })
        });

        const data = await res.json();

        const grade = data.ai_readiness?.grade || 'F';
        const score = data.ai_readiness?.score || 0;
        const label = data.ai_readiness?.label || 'Not Ready';
        const level = data.ai_readiness?.level || 'not_ready';

        const levelColors = {
          'ready': { bg: '#DCFCE7', text: '#16A34A' },
          'partial': { bg: '#FEF9C3', text: '#CA8A04' },
          'limited': { bg: '#FED7AA', text: '#EA580C' },
          'not_ready': { bg: '#FEE2E2', text: '#DC2626' }
        };
        const colors = levelColors[level] || levelColors.not_ready;

        const ucpErrors = data.ucp?.issues?.filter(i => i.severity === 'error').length || 0;
        const schemaErrors = data.schema?.issues?.filter(i => i.severity === 'error').length || 0;
        const productCompleteness = data.product_quality?.completeness || 0;

        const ucpWarnings = data.ucp?.issues?.filter(i => i.severity === 'warn').length || 0;
        const schemaWarnings = data.schema?.issues?.filter(i => i.severity === 'warn').length || 0;
        const returnPolicies = data.schema?.stats?.returnPolicies || 0;

        document.getElementById('loading').style.display = 'none';
        document.getElementById('result').style.display = 'block';
        document.getElementById('result').innerHTML = `
          <div class="grade-circle grade-${grade}">${grade}</div>
          <div class="domain-name">${cleanDomain}</div>
          <div class="readiness-label" style="background: ${colors.bg}; color: ${colors.text};">${label}</div>
          <div class="score-detail">${score}/100</div>
          <div class="verified-date">Verified ${new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</div>

          ${data.benchmark ? `
          <div style="margin: 20px 0; padding: 16px; background: linear-gradient(135deg, rgba(99,102,241,0.1), rgba(168,85,247,0.1)); border-radius: 12px; border: 1px solid rgba(99,102,241,0.2);">
            <div style="font-size: 28px; font-weight: 800; color: #6366F1;">${data.benchmark.percentile}%</div>
            <div style="font-size: 14px; color: var(--color-medium);">better than ${data.benchmark.total_sites_analyzed.toLocaleString()} sites analyzed</div>
          </div>
          ` : ''}

          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-value" style="color: ${data.ucp?.found ? '#16A34A' : '#DC2626'};">${data.ucp?.found ? '&#10003;' : '&#10005;'}</div>
              <div class="stat-label">UCP Profile</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">${data.schema?.stats?.products || 0}</div>
              <div class="stat-label">Products</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" style="color: ${productCompleteness >= 80 ? '#16A34A' : productCompleteness >= 60 ? '#CA8A04' : '#DC2626'};">${productCompleteness}%</div>
              <div class="stat-label">Completeness</div>
            </div>
          </div>

          <div class="issues-summary">
            <div class="issue-category">
              <h4>
                <span style="margin-right: 8px;">&#128279;</span> UCP Profile
                ${ucpErrors === 0 && data.ucp?.found
                  ? '<span class="issue-badge ok">&#10003; Valid</span>'
                  : ucpErrors > 0
                    ? '<span class="issue-badge errors">' + ucpErrors + ' errors</span>'
                    : '<span class="issue-badge warnings">Not found</span>'
                }
              </h4>
            </div>
            <div class="issue-category">
              <h4>
                <span style="margin-right: 8px;">&#128202;</span> Schema.org
                ${schemaErrors === 0
                  ? '<span class="issue-badge ok">&#10003; Valid</span>'
                  : '<span class="issue-badge errors">' + schemaErrors + ' issues</span>'
                }
              </h4>
            </div>
            <div class="issue-category">
              <h4>
                <span style="margin-right: 8px;">&#128230;</span> Return Policy
                ${returnPolicies > 0
                  ? '<span class="issue-badge ok">&#10003; Found</span>'
                  : '<span class="issue-badge warnings">Missing</span>'
                }
              </h4>
            </div>
          </div>

          <div class="cta-section">
            <p style="margin-bottom: 16px; color: var(--color-medium); font-size: 15px;">
              ${score >= 70
                ? '&#127881; Great job! Your store is ready for AI shopping agents.'
                : '&#128736; Improve your score to be ready for AI shopping agents.'
              }
            </p>
            <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
              <a href="/?domain=${encodeURIComponent(cleanDomain)}" class="btn">View Full Report</a>
              <a href="/" class="btn" style="background: var(--color-background); color: var(--color-dark); border: 1px solid var(--color-border);">Check Another Store</a>
            </div>
          </div>
        `;
      } catch (err) {
        document.getElementById('loading').style.display = 'none';
        document.getElementById('result').style.display = 'block';
        document.getElementById('result').innerHTML = `
          <div class="error-message">
            <strong>Verification failed</strong>
            <p>${err.message}</p>
          </div>
          <a href="/" class="btn">Try Again</a>
        `;
      }
    }

    verifyDomain();
  </script>
</body>
</html>
