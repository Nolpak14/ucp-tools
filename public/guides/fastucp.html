<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-J5JSHV7H1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-J5JSHV7H1E');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FastUCP Integration Guide - Build UCP Servers with Python | UCP Tools</title>
  <meta name="description" content="Learn how to build UCP-compliant merchant servers using FastUCP Python framework. Complete guide with examples, validation tips, and best practices.">
  <link rel="canonical" href="https://ucptools.dev/guides/fastucp.html">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#2E86AB">
  <meta property="og:title" content="FastUCP Integration Guide - Build UCP Servers with Python">
  <meta property="og:description" content="Complete guide to building AI-ready commerce with FastUCP Python framework.">
  <meta property="og:image" content="/og-image.png">
  <meta property="og:type" content="article">
  <link rel="stylesheet" href="/brand.css">
  <style>
    /* Guide-specific styles */
    .guide-hero {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      color: white;
      padding: 60px 0;
      margin-bottom: 40px;
    }
    .guide-hero h1 {
      font-size: 2.5rem;
      margin-bottom: 16px;
    }
    .guide-hero p {
      font-size: 1.2rem;
      opacity: 0.9;
      max-width: 600px;
    }
    .guide-badges {
      display: flex;
      gap: 12px;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    .guide-badge {
      background: rgba(255,255,255,0.15);
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .guide-content {
      display: grid;
      grid-template-columns: 1fr 280px;
      gap: 40px;
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 20px;
    }
    @media (max-width: 900px) {
      .guide-content {
        grid-template-columns: 1fr;
      }
      .guide-sidebar {
        display: none;
      }
    }
    .guide-main section {
      margin-bottom: 40px;
    }
    .guide-main h2 {
      color: var(--brand-blue);
      font-size: 1.6rem;
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--color-border);
    }
    .guide-main h3 {
      font-size: 1.2rem;
      margin: 24px 0 12px;
      color: var(--color-dark);
    }
    .guide-main p {
      margin-bottom: 16px;
      color: var(--color-medium);
    }
    .guide-main ul, .guide-main ol {
      margin-bottom: 16px;
      padding-left: 24px;
    }
    .guide-main li {
      margin-bottom: 8px;
      color: var(--color-medium);
    }
    pre {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 16px 0;
      font-family: 'Fira Code', 'Monaco', monospace;
      font-size: 0.9rem;
      line-height: 1.5;
    }
    code {
      font-family: 'Fira Code', 'Monaco', monospace;
    }
    :not(pre) > code {
      background: var(--color-background);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
      color: var(--brand-blue);
    }
    .tip-box {
      background: #EFF6FF;
      border-left: 4px solid var(--brand-blue);
      padding: 16px 20px;
      border-radius: 0 8px 8px 0;
      margin: 20px 0;
    }
    .tip-box.warning {
      background: #FEF3C7;
      border-color: var(--color-warning);
    }
    .tip-box.success {
      background: #DCFCE7;
      border-color: var(--color-success);
    }
    .tip-box strong {
      display: block;
      margin-bottom: 4px;
    }
    .cta-box {
      background: var(--brand-gradient);
      color: white;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      margin: 30px 0;
    }
    .cta-box h3 {
      color: white;
      margin-bottom: 12px;
    }
    .cta-box p {
      color: rgba(255,255,255,0.9);
      margin-bottom: 20px;
    }
    .cta-box .btn {
      background: white;
      color: var(--brand-blue);
      padding: 12px 28px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      display: inline-block;
      transition: transform 0.2s;
    }
    .cta-box .btn:hover {
      transform: translateY(-2px);
    }
    .guide-sidebar {
      position: sticky;
      top: 100px;
      align-self: start;
    }
    .sidebar-toc {
      background: var(--color-card);
      border: 1px solid var(--color-border);
      border-radius: 12px;
      padding: 20px;
    }
    .sidebar-toc h4 {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--color-light);
      margin-bottom: 12px;
    }
    .sidebar-toc ul {
      list-style: none;
      padding: 0;
    }
    .sidebar-toc li {
      margin-bottom: 8px;
    }
    .sidebar-toc a {
      color: var(--color-medium);
      text-decoration: none;
      font-size: 0.9rem;
      transition: color 0.2s;
    }
    .sidebar-toc a:hover {
      color: var(--brand-blue);
    }
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    .feature-card {
      background: var(--color-card);
      border: 1px solid var(--color-border);
      border-radius: 12px;
      padding: 20px;
    }
    .feature-card h4 {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      color: var(--color-dark);
    }
    .feature-card p {
      font-size: 0.9rem;
      margin: 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
    }
    th, td {
      text-align: left;
      padding: 12px;
      border-bottom: 1px solid var(--color-border);
    }
    th {
      background: var(--color-background);
      font-weight: 600;
    }
    /* Header */
    header {
      background: var(--color-card);
      border-bottom: 1px solid var(--color-border);
      padding: 16px 0;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .header-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 24px;
      font-weight: 700;
      text-decoration: none;
      color: var(--color-dark);
    }
    .logo-icon {
      width: 40px;
      height: 40px;
    }
    nav {
      display: flex;
      gap: 24px;
    }
    nav a {
      color: var(--color-medium);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
    }
    nav a:hover, nav a.active {
      color: var(--brand-blue);
    }
    footer {
      background: var(--color-dark);
      color: white;
      padding: 40px 0;
      margin-top: 60px;
      text-align: center;
    }
    footer a {
      color: var(--brand-teal);
    }
  </style>
</head>
<body>
  <header>
    <div class="header-inner">
      <a href="/" class="logo">
        <svg class="logo-icon" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#2E86AB"/>
              <stop offset="50%" style="stop-color:#36B5A2"/>
              <stop offset="100%" style="stop-color:#47C97A"/>
            </linearGradient>
          </defs>
          <rect width="40" height="40" rx="8" fill="url(#logoGrad)"/>
          <path d="M12 14h16M12 20h12M12 26h8" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
          <circle cx="28" cy="26" r="4" fill="white"/>
        </svg>
        UCP Tools
      </a>
      <nav>
        <a href="/">Validator</a>
        <a href="/learn.html">Learn</a>
        <a href="/directory.html">Directory</a>
        <a href="/guides/fastucp.html" class="active">FastUCP</a>
      </nav>
    </div>
  </header>

  <div class="guide-hero">
    <div class="container">
      <h1>‚ö° FastUCP Integration Guide</h1>
      <p>Build UCP-compliant merchant servers in Python with FastUCP - the "FastAPI" for Universal Commerce Protocol.</p>
      <div class="guide-badges">
        <span class="guide-badge">üêç Python 3.10+</span>
        <span class="guide-badge">üöÄ FastAPI Based</span>
        <span class="guide-badge">ü§ñ AI Agent Ready</span>
        <span class="guide-badge">üìã Auto-Discovery</span>
      </div>
    </div>
  </div>

  <div class="guide-content">
    <main class="guide-main">
      <section id="introduction">
        <h2>What is FastUCP?</h2>
        <p>
          <a href="https://github.com/MehmetHilmiEmel/fastucp" target="_blank">FastUCP</a> is a Python framework that makes building UCP-compliant merchant servers simple. 
          Built on top of FastAPI, it handles all the protocol complexity so you can focus on your business logic.
        </p>
        
        <div class="feature-grid">
          <div class="feature-card">
            <h4>üß± Official Models</h4>
            <p>Built on Google's auto-generated Pydantic models for 100% protocol compliance.</p>
          </div>
          <div class="feature-card">
            <h4>üîç Auto-Discovery</h4>
            <p>Automatically generates <code>/.well-known/ucp</code> manifest from your endpoints.</p>
          </div>
          <div class="feature-card">
            <h4>üõí Builder Pattern</h4>
            <p>Use <code>CheckoutBuilder</code> to construct responses without manual JSON.</p>
          </div>
          <div class="feature-card">
            <h4>üí≥ Payment Presets</h4>
            <p>Easy integration with Google Pay, Apple Pay, and other payment handlers.</p>
          </div>
        </div>
      </section>

      <section id="installation">
        <h2>Installation</h2>
        <p>FastUCP requires Python 3.10 or higher. Install via pip or uv:</p>
        
<pre><span style="color:#6A9955"># Using pip</span>
pip install fastucp-python

<span style="color:#6A9955"># Using uv (Recommended)</span>
uv add fastucp-python</pre>
      </section>

      <section id="quickstart">
        <h2>Quick Start</h2>
        <p>Here's a minimal UCP merchant server that sells a single item:</p>
        
<pre><span style="color:#6A9955"># main.py</span>
<span style="color:#C586C0">from</span> fastucp <span style="color:#C586C0">import</span> FastUCP
<span style="color:#C586C0">from</span> fastucp.builders <span style="color:#C586C0">import</span> CheckoutBuilder
<span style="color:#C586C0">from</span> fastucp.types <span style="color:#C586C0">import</span> CheckoutCreateRequest

<span style="color:#6A9955"># 1. Initialize the App</span>
app = FastUCP(
    title=<span style="color:#CE9178">"My Store"</span>,
    base_url=<span style="color:#CE9178">"http://localhost:8000"</span>
)

<span style="color:#6A9955"># 2. Define checkout endpoint</span>
<span style="color:#DCDCAA">@app.checkout</span>(<span style="color:#CE9178">"/checkout-sessions"</span>)
<span style="color:#C586C0">def</span> <span style="color:#DCDCAA">create_session</span>(payload: CheckoutCreateRequest):
    cart = CheckoutBuilder(app, session_id=<span style="color:#CE9178">"session_123"</span>)
    
    cart.add_item(
        item_id=<span style="color:#CE9178">"sku_001"</span>,
        title=<span style="color:#CE9178">"AI Commerce T-Shirt"</span>,
        price=<span style="color:#B5CEA8">2500</span>,  <span style="color:#6A9955"># $25.00 in cents</span>
        quantity=<span style="color:#B5CEA8">1</span>,
        img_url=<span style="color:#CE9178">"https://example.com/shirt.jpg"</span>
    )
    
    <span style="color:#C586C0">return</span> cart.build()

<span style="color:#C586C0">if</span> __name__ == <span style="color:#CE9178">"__main__"</span>:
    <span style="color:#C586C0">import</span> uvicorn
    uvicorn.run(app, host=<span style="color:#CE9178">"127.0.0.1"</span>, port=<span style="color:#B5CEA8">8000</span>)</pre>

        <p>Run the server:</p>
<pre>python main.py</pre>

        <p>Your server is now live with these endpoints:</p>
        <table>
          <tr>
            <th>Endpoint</th>
            <th>Description</th>
          </tr>
          <tr>
            <td><code>GET /.well-known/ucp</code></td>
            <td>Auto-generated UCP discovery manifest</td>
          </tr>
          <tr>
            <td><code>POST /checkout-sessions</code></td>
            <td>Create new checkout session</td>
          </tr>
        </table>
      </section>

      <section id="validation">
        <h2>üîç Test Your FastUCP Server with UCP Tools</h2>
        <p>Once your server is running, validate it using UCP Tools to ensure full compliance:</p>

        <div class="cta-box">
          <h3>Validate Your FastUCP Server</h3>
          <p>Enter your server URL to check AI commerce readiness and UCP compliance.</p>
          <a href="/" class="btn">Open Validator ‚Üí</a>
        </div>

        <h3>What We Check</h3>
        <ul>
          <li><strong>Discovery Profile:</strong> Is <code>/.well-known/ucp</code> accessible and valid?</li>
          <li><strong>Capabilities:</strong> Are checkout, order, and fulfillment capabilities declared?</li>
          <li><strong>Service Bindings:</strong> Are REST/MCP endpoints properly configured?</li>
          <li><strong>Payment Handlers:</strong> Are payment methods correctly specified?</li>
          <li><strong>Schema Compliance:</strong> Does the profile match UCP specification?</li>
        </ul>

        <div class="tip-box success">
          <strong>‚úÖ Pro Tip</strong>
          Use ngrok or a similar tool to expose your local server for testing:
          <code>ngrok http 8000</code>
        </div>
      </section>

      <section id="capabilities">
        <h2>Adding Capabilities</h2>
        <p>FastUCP automatically registers capabilities when you use decorators:</p>

<pre><span style="color:#6A9955"># Checkout capability (auto-registered)</span>
<span style="color:#DCDCAA">@app.checkout</span>(<span style="color:#CE9178">"/checkout-sessions"</span>)
<span style="color:#C586C0">def</span> <span style="color:#DCDCAA">create_checkout</span>(payload):
    ...

<span style="color:#6A9955"># Update checkout</span>
<span style="color:#DCDCAA">@app.update_checkout</span>(<span style="color:#CE9178">"/checkout-sessions/{id}"</span>)
<span style="color:#C586C0">def</span> <span style="color:#DCDCAA">update_checkout</span>(id: str, payload):
    ...

<span style="color:#6A9955"># Complete checkout ‚Üí Order capability (auto-registered)</span>
<span style="color:#DCDCAA">@app.complete_checkout</span>(<span style="color:#CE9178">"/checkout-sessions/{id}/complete"</span>)
<span style="color:#C586C0">def</span> <span style="color:#DCDCAA">complete_checkout</span>(id: str, payload):
    ...</pre>

        <p>Each decorator automatically adds the corresponding capability to your <code>/.well-known/ucp</code> manifest.</p>
      </section>

      <section id="payments">
        <h2>Payment Handlers</h2>
        <p>FastUCP includes presets for common payment methods:</p>

<pre><span style="color:#C586C0">from</span> fastucp.presets <span style="color:#C586C0">import</span> GooglePay

app.add_payment_handler(
    GooglePay(
        merchant_id=<span style="color:#CE9178">"your_merchant_id"</span>,
        gateway=<span style="color:#CE9178">"stripe"</span>,
        gateway_merchant_id=<span style="color:#CE9178">"your_stripe_id"</span>
    )
)</pre>

        <p>This automatically adds the payment handler to your discovery profile.</p>
      </section>

      <section id="tips">
        <h2>Validation Tips for FastUCP</h2>
        
        <div class="tip-box">
          <strong>üí° Common Issue: Missing base_url</strong>
          Always set <code>base_url</code> in your FastUCP constructor. This is used to generate absolute URLs in the discovery profile.
        </div>

        <div class="tip-box warning">
          <strong>‚ö†Ô∏è Production URLs</strong>
          In production, ensure <code>base_url</code> matches your actual domain with HTTPS.
        </div>

        <h3>Checklist for UCP Compliance</h3>
        <ol>
          <li>‚úÖ Set correct <code>base_url</code> for your environment</li>
          <li>‚úÖ Define at least one checkout endpoint using <code>@app.checkout()</code></li>
          <li>‚úÖ Add payment handlers if accepting payments</li>
          <li>‚úÖ Test with UCP Tools validator before going live</li>
          <li>‚úÖ Use AI Agent Simulator to verify agent compatibility</li>
        </ol>
      </section>

      <section id="ai-simulation">
        <h2>ü§ñ Test with AI Agent Simulator</h2>
        <p>
          UCP Tools includes an AI Agent Simulator that tests how AI shopping agents will interact with your FastUCP server. 
          It simulates the full discovery and checkout flow.
        </p>

        <div class="cta-box">
          <h3>Run AI Agent Simulation</h3>
          <p>Test how AI agents will discover and use your UCP endpoints.</p>
          <a href="/#ai-test" class="btn">Open AI Simulator ‚Üí</a>
        </div>
      </section>

      <section id="resources">
        <h2>Resources</h2>
        <ul>
          <li><a href="https://github.com/MehmetHilmiEmel/fastucp" target="_blank">FastUCP GitHub Repository</a></li>
          <li><a href="https://pypi.org/project/fastucp-python/" target="_blank">FastUCP on PyPI</a></li>
          <li><a href="https://ucp.dev" target="_blank">Official UCP Specification</a></li>
          <li><a href="/learn.html">UCP Learning Center</a></li>
        </ul>
      </section>
    </main>

    <aside class="guide-sidebar">
      <div class="sidebar-toc">
        <h4>On This Page</h4>
        <ul>
          <li><a href="#introduction">What is FastUCP?</a></li>
          <li><a href="#installation">Installation</a></li>
          <li><a href="#quickstart">Quick Start</a></li>
          <li><a href="#validation">Test with UCP Tools</a></li>
          <li><a href="#capabilities">Adding Capabilities</a></li>
          <li><a href="#payments">Payment Handlers</a></li>
          <li><a href="#tips">Validation Tips</a></li>
          <li><a href="#ai-simulation">AI Agent Simulator</a></li>
          <li><a href="#resources">Resources</a></li>
        </ul>
      </div>
    </aside>
  </div>

  <footer>
    <div class="container">
      <p>UCP Tools - Built for the AI Commerce era</p>
      <p style="margin-top: 8px; opacity: 0.7;">
        <a href="https://github.com/Nolpak14/ucp-tools" target="_blank">GitHub</a> ¬∑ 
        <a href="https://github.com/MehmetHilmiEmel/fastucp" target="_blank">FastUCP</a> ¬∑
        <a href="https://ucp.dev" target="_blank">UCP Spec</a>
      </p>
    </div>
  </footer>
</body>
</html>
